<html>

<head>

	<meta charset="UTF-8">
	<title>JS Homework 2: querySelector, date, timeout</title>
</head>

<body>
	<h1>
		World time
	</h1>
	<ul>
		<li data-location="london">London -
			<span class="temperature">null</span>
		</li>
		<li data-location="kiev">Kiev -
			<span class="temperature">null</span>
		</li>
		<li data-location="warshaw">Warshaw -
			<span class="temperature">null</span>
		</li>
		<li data-location="los-angeles">Los Angeles -
			<span class="temperature">null</span>
		</li>
		<li data-location="newYork">New York -
			<span class="temperature">null</span>
		</li>
	</ul>
	<script type="text/javascript">
		// вивести для кожного міста час і дату
		// формат 24.09.2017 - 15:40
		var formattedText;
		function getFormattedDateTime(dateTime) {
			var result = (dateTime < 10) ? "0" + dateTime : result = dateTime;
			return result;
		}
		function calcTime(city, offset) {
			date = new Date();
			utc = date.getTime() + (date.getTimezoneOffset() * 60000);
			newDate = new Date(utc + (3600000 * offset));
			formattedText = " - " + getFormattedDateTime(newDate.getDate()) + "." + getFormattedDateTime(newDate.getMonth()) + "." + newDate.getFullYear() + " - " +
				getFormattedDateTime(newDate.getHours()) + ":" + getFormattedDateTime(newDate.getMinutes());
			return city + formattedText;
		}
		function refreshDate() {
			setTimeout(function () {
				location.reload();
			}, 30 * 1000);
		}
		refreshDate();
		document.querySelector("li[data-location=london]").innerText = calcTime('London', +1);
		document.querySelector("li[data-location=kiev]").innerText = calcTime('Kiev', +3);
		document.querySelector("li[data-location=warshaw]").innerText = calcTime('Warshaw', +2);
		document.querySelector("li[data-location=los-angeles]").innerText = calcTime('Los Angeles', -7);
		document.querySelector("li[data-location=newYork]").innerText = calcTime('New York', -4);
	</script>
</body>

</html>